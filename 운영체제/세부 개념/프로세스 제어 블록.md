**프로세스 제어 블록(PCB, Process Control Block)**은 운영체제가 각 프로세스를 관리하기 위해 사용하는 중요한 자료 구조입니다. 프로세스에 대한 모든 중요한 정보를 담고 있으며, 운영체제는 PCB를 통해 프로세스를 제어하고 관리합니다. 프로세스가 생성될 때마다 PCB가 생성되고, 프로세스가 종료되면 PCB도 해제됩니다. 이를 통해 운영체제는 프로세스의 상태, 실행 위치, 자원 사용 정보를 효율적으로 관리할 수 있습니다.

### 1. PCB의 구성 요소

PCB에는 프로세스가 실행되면서 필요한 다양한 정보가 저장됩니다. 아래는 PCB의 주요 구성 요소입니다.

<p align="center">
  <img src="../../이미지 폴더/PCB.png"  width="50%" height="50%">
</p>


#### 1.1. 프로세스 상태 (Process State)
PCB에는 프로세스의 현재 상태가 저장됩니다. 프로세스는 여러 상태를 거치며 실행되며, 그 상태는 다음과 같습니다:
- **New**: 프로세스가 생성된 상태.
- **Ready**: 실행 준비가 완료된 상태.
- **Running**: CPU에서 실행 중인 상태.
- **Waiting (Blocked)**: 입출력 작업을 기다리거나 다른 이벤트가 발생할 때까지 대기 중인 상태.
- **Terminated**: 프로세스가 종료된 상태.

#### 1.2. 프로세스 식별자 (Process ID, PID)
각 프로세스는 고유한 식별자인 **프로세스 ID(PID)**를 가지고 있습니다. 운영체제는 이 ID를 사용하여 프로세스를 식별하고, PCB와 관련된 작업을 수행합니다. 또한, 부모와 자식 프로세스 관계를 유지하기 위해 부모 프로세스의 PID 정보도 함께 저장될 수 있습니다.

#### 1.3. 프로그램 카운터 (Program Counter)
**프로그램 카운터**는 프로세스가 다음에 실행할 명령어의 주소를 저장하는 레지스터입니다. CPU가 프로세스를 실행할 때, 프로그램 카운터를 통해 다음 명령어의 위치를 참조합니다. 프로세스가 중단되었다가 다시 실행될 경우, 이 카운터 값이 PCB에서 복원되어 프로세스가 중단된 지점부터 다시 실행될 수 있습니다.

#### 1.4. CPU 레지스터 (CPU Registers)
프로세스가 CPU에서 실행될 때 사용하는 다양한 **레지스터**들의 값도 PCB에 저장됩니다. 레지스터는 명령어를 처리하는 동안 중요한 중간 데이터를 저장하는 임시 저장소 역할을 하며, 프로세스가 중단될 때 현재 레지스터 값을 PCB에 저장하고, 다시 실행될 때 PCB에서 레지스터 값을 복원합니다. 이 정보는 프로그램 카운터, 스택 포인터, 플래그 레지스터 등을 포함합니다.

#### 1.5. CPU 스케줄링 정보 (CPU Scheduling Information)
운영체제는 여러 프로세스를 효율적으로 관리하기 위해 **스케줄링 정보**를 사용합니다. PCB에는 다음과 같은 스케줄링 정보가 포함됩니다:
- **프로세스 우선순위**: CPU 스케줄링에서 우선순위를 결정하는 정보.
- **스케줄링 큐에 대한 포인터**: 프로세스가 현재 대기 중인 큐에 대한 포인터.
- **다른 스케줄링 매개변수**: 할당된 시간 조각, 대기 시간 등.

#### 1.6. 메모리 관리 정보 (Memory Management Information)
프로세스는 실행되기 위해 메모리 자원을 사용합니다. PCB는 해당 프로세스의 메모리 관련 정보를 관리하며, 여기에는 다음이 포함됩니다:
- **베이스 레지스터와 한계 레지스터(Base and Limit Registers)**: 프로세스가 사용할 수 있는 메모리 영역의 시작 주소와 크기를 저장합니다.
- **페이지 테이블 또는 세그먼트 테이블**: 가상 메모리를 사용하는 시스템에서 메모리 맵핑 정보를 관리합니다.

#### 1.7. 입출력 상태 정보 (I/O Status Information)
PCB에는 해당 프로세스가 사용하고 있는 **입출력 장치**와 **열려 있는 파일**에 대한 정보도 저장됩니다. 이 정보는 운영체제가 프로세스의 입출력 작업을 관리하고, 자원을 할당하는 데 사용됩니다.

#### 1.8. 계정 정보 (Accounting Information)
운영체제는 각 프로세스에 할당된 자원 사용에 대한 **계정 정보**를 PCB에 저장합니다. 이 정보는 프로세스가 사용한 CPU 시간, 실제 시간, 입출력 작업 횟수, 메모리 사용량 등을 포함합니다. 이러한 정보는 시스템 성능을 분석하거나 자원 할당을 최적화하는 데 유용합니다.

### 2. PCB의 역할

PCB는 운영체제가 프로세스를 관리하는 핵심적인 자료 구조로, 프로세스 스케줄링, 문맥 교환, 프로세스 간 통신 등의 다양한 작업에 중요한 역할을 합니다.

#### 2.1. 문맥 교환(Context Switching)
운영체제는 멀티태스킹을 지원하기 위해 여러 프로세스를 번갈아가며 실행합니다. 이 과정에서 **문맥 교환**이 발생하며, 문맥 교환은 하나의 프로세스에서 다른 프로세스로 CPU를 전환할 때 필요한 정보 저장 및 복원의 과정을 말합니다.

- **저장**: 실행 중인 프로세스가 중단될 때, 그 프로세스의 현재 상태(프로그램 카운터, 레지스터 값 등)를 PCB에 저장합니다.
- **복원**: 중단된 프로세스가 다시 실행될 때, PCB에서 해당 프로세스의 상태를 복원하여 중단된 지점부터 실행을 재개합니다.

#### 2.2. 프로세스 스케줄링
PCB는 각 프로세스의 스케줄링 정보를 포함하고 있기 때문에, 운영체제는 이를 기반으로 **CPU 스케줄링**을 수행합니다. 스케줄링 알고리즘은 PCB에 저장된 우선순위, 대기 시간 등의 정보를 참고하여 어떤 프로세스를 다음에 실행할지 결정합니다.

#### 2.3. 프로세스 간 통신 (IPC)
운영체제는 **프로세스 간 통신(IPC, Inter-Process Communication)**을 지원합니다. PCB는 프로세스가 다른 프로세스와 데이터를 주고받을 때 필요한 정보를 저장하고 관리합니다. 프로세스 간 통신은 일반적으로 파이프, 메시지 큐, 공유 메모리 등을 통해 이루어집니다.

### 3. PCB 관리

운영체제는 **PCB 테이블**을 사용하여 여러 프로세스의 PCB를 관리합니다. PCB 테이블은 시스템에 존재하는 모든 프로세스의 PCB를 저장하는 구조체입니다. 각 PCB는 고유한 프로세스 ID로 구분되며, 프로세스 상태가 변경될 때마다 PCB의 정보가 갱신됩니다.

#### PCB 테이블 관리 과정:
- 프로세스가 생성될 때: PCB가 생성되고, PCB 테이블에 추가됩니다.
- 프로세스가 상태를 변경할 때: PCB에 저장된 프로세스 상태 정보가 갱신됩니다.
- 프로세스가 종료될 때: 해당 PCB가 PCB 테이블에서 제거됩니다.

### 4. PCB의 중요성

PCB는 운영체제가 프로세스를 추적하고 관리하는 데 필수적인 자료 구조입니다. 각 프로세스의 상태, 자원, 실행 위치를 기록함으로써, 운영체제는 프로세스를 효율적으로 스케줄링하고, 문맥 교환을 통해 여러 프로세스가 동시에 실행되도록 지원할 수 있습니다. PCB가 없으면 운영체제는 프로세스의 상태나 자원을 관리할 수 없기 때문에, 시스템의 안정성과 성능이 저하될 것입니다.

### 요약
PCB는 운영체제가 프로세스를 관리하는 데 필수적인 자료 구조입니다. PCB는 프로세스의 상태, 실행 위치, 자원 사용 정보 등을 포함하고 있으며, 문맥 교환과 스케줄링 등의 중요한 작업에 핵심적인 역할을 합니다. PCB의 주요 구성 요소로는 프로세스 상태, 프로그램 카운터, CPU 레지스터, 메모리 관리 정보, 입출력 상태 정보 등이 있습니다. PCB는 시스템에서 여러 프로세스를 효율적으로 관리하고 운영하는 데 중요한 역할을 합니다.
