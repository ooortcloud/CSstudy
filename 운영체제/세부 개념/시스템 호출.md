# 시스템 호출 (System Call)
## 정의

> 응용 프로그램이 운영체제 커널에게 서비스를 요청할 수 있는 인터페이스

## 목적
![이중모드 설명](../../이미지%20폴더/dual%20mode.png)

- 사용자 모드 프로그램과 커널 모드 서비스 간의 인터페이스 제공
- 하드웨어 자원에 대한 안전하고 제어된 접근 제공

시스템 호출은 운영체제와 응용 프로그램 사이의 중요한 연결 고리로, 시스템의 안정성과 보안을 유지하면서 필요한 기능을 제공한다. 응용 프로그램은 시스템 호출을 이용하지 않고서는 커널 내부 기능을 이용할 수 없다.

## 핵심 유형

- 프로세스 제어 (예: fork(), exit())
- 파일 관리 (예: open(), read(), write(), close())
- 장치 관리 (예: ioctl())
- 정보 유지 (예: time(), sleep())
- 통신 (예: pipe(), shmget())

함수명은 운영체제 별로 차이가 존재한다.
- UNIX/Linux: open(), read(), write() 등
- Windows: CreateFile(), ReadFile(), WriteFile() 등

## 작동 방식

![시스템 호출 그림](../../이미지%20폴더/system%20call.png)

1. 어떤 응용 프로그램이 시스템 호출을 요청한다.
2. 해당 프로그램 실행이 사용자 모드에서 커널 모드로 전환된다.
3. 커널이 요청된 서비스 수행
4. 결과 반환 및 사용자 모드로 복귀

시스템 호출의 작동 방식과 연관되는 내용으로, '인터럽트'에 대해 알고 있으면 이중 모드 전환 방식을 이해하는데 많은 도움이 될 것이다.

[인터럽트 내용 정리](./인터럽트.md)

2. 구현 메커니즘:
   - 소프트웨어 인터럽트 (예: x86의 INT 명령어)
   - SYSENTER/SYSEXIT 명령어 (최신 x86 프로세서)
   - SYSCALL/SYSRET 명령어 (x86-64 아키텍처)

3. 시스템 호출 테이블:
   - 각 시스템 호출에 고유 번호 할당
   - 커널 내 해당 함수의 주소를 저장

4. 래퍼 함수:
   - 라이브러리(예: C 표준 라이브러리)에서 제공
   - 시스템 호출을 추상화하여 사용 편의성 향상

5. 보안 측면:
   - 사용자 프로그램의 직접적인 하드웨어 접근 방지
   - 권한 검사를 통한 시스템 보호

6. 성능 고려사항:
   - 모드 전환으로 인한 오버헤드 발생
   - 빈번한 시스템 호출은 성능 저하 가능

7.  프로그래밍 언어 지원:
    - 저수준 언어(C, C++)에서 직접 사용 가능
    - 고수준 언어에서는 추상화된 형태로 제공

