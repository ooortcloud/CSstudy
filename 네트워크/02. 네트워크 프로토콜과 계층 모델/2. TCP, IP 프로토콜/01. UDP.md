## UDP 개념

**UDP(User Datagram Protocol)는 IP를 사용하는 네트워크 내에서 컴퓨터 간 메시지 교환 시 제한된 서비스만 제공하는 프로토콜이다.** 데이터를 '데이터그램' 단위로 처리하며, 각 데이터그램은 독립적으로 전송된다.

UDP는 TCP/IP 4계층 모델에서 '전송 계층'에 위치한다. 이 계층에서 UDP는 네트워크 계층과 어플리케이션 계층 사이를 중개하는 역할을 수행한다.

## UDP 특징

UDP는 단순한 통신 특성에 의해 신뢰성보다는 빠른 전송 속도와 낮은 지연 시간이 중요한 어플리케이션에서 주로 사용된다. 다만 커스터마이징을 통해 응용 프로그램 수준에서 추가적인 신뢰성 확보 처리를 수행할 수 있다.

- **비연결성**: 연결 설정 절차를 생략하여 빠르게 데이터를 전송한다.
- **단순성**: 데이터그램은 IP와 port 번호 그리고 checksum 필드만 추가된 단순한 구조를 가지므로, 데이터그램 분석이 쉽고 빠르다.
- **신뢰성 부족**: 연결 설정 절차가 없기 때문에 데이터 전송의 순서와 신뢰성을 보장하지 못한다.

### 장점

- **빠른 속도와 낮은 지연시간**: 연결 설정 절차가 없기 때문에 TCP보다 빠른 전송이 가능하다.
- **오버헤드 최소화**: 헤더 구조가 간단하여 오버헤드가 적으므로 전송 효율이 높다.
- **멀티캐스트/브로드캐스트 지원**: UDP는 다대다 통신이 가능하며, 브로드캐스팅을 통해 여러 대상 간 통신을 쉽게 구현할 수 있다.

### 단점

- **신뢰성 부족**: 패킷에 오류가 발생하거나 유실되어도 추가적인 후처리를 진행하지 않는다.
- **흐름 제어 및 혼잡 제어 부재**: 핵심 제어 기능이 없어서 네트워크 상황에 따른 대응이 어렵다.
- **순서 보장 불가**: 언제든 데이터 전송 순서가 바뀔 수 있다.

## UDP 패킷 구조

UDP 패킷은 header와 data 필드로 구성된다. UDP 헤더는 총 8-byte의 길이를 갖는다.

### 헤더 필드

- source port\[16-bit]: 송신 측의 port 번호
- destination port\[16-bit]: 수신 측의 port 번호
- length\[16-bit]: UDP header와 payload인 데이터를 합한 총 길이를 byte 단위로 표기한 것. 최소 8-byte(header만 전송한 경우)부터 최대 65,507-byte까지 표기 가능
- checksum\[16-bit]: 데이터가 전송 중 손상되지 않았는지 확인하는 기준 값. 옵션이긴 한데 대부분 사용하는 편.

### 데이터 필드

UDP header 이후에는 실제 전송하는 데이터가 뒤따른다. 데이터 필드 크기는 어플리케이션에 따라 다르며, UDP packet의 전체 크기에허 header의 크기를 뺀 만큼 공간을 차지한다.

## 주요 사용 사례

### DNS(Domain Name System)
DNS에서는 일반적으로 UDP를 사용한다. 빠른 DNS의 조회가 client의 웹사이트 로딩 시간을 최소화하는데 영향을 미치기 때문이다. 

### 실시간 어플리케이션
화상 회의(VoIP) 및 스트리밍 서비스나 온라인 게임은 UDP를 자주 사용한다. 짧은 대기 시간이 사용자 경험을 좌지우지하기 때문이다.

## UDP VS TCP

|특성|UDP|TCP|
|---|---|---|
|연결 설정 과정|생략|3-Way Handshake를 통해 커넥션을 맺은 후 데이터 전송 가능|
|트레이드오프|빠른 전송이 가능하지만 데이터의 순서와 전달을 보장하지 못함|데이터 순서와 전달을 보장하지만 오버헤드로 인해 전송 속도가 느림|
