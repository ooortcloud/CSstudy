## 커버링 인덱스(Covering Index)

**커버링 인덱스**는 데이터베이스에서 쿼리 실행 시 필요한 모든 정보를 인덱스 자체에서 제공할 수 있도록 구성된 인덱스를 의미합니다. 즉, **인덱스만으로 쿼리를 완전히 처리할 수 있도록** 만들어진 인덱스입니다. 

### 왜 커버링 인덱스가 필요할까요?

* **성능 향상:** 데이터베이스 테이블에서 데이터를 가져올 때, 인덱스를 통해 빠르게 원하는 데이터의 위치를 찾을 수 있습니다. 만약 인덱스에 쿼리에서 필요한 모든 정보가 포함되어 있다면, 실제 데이터 테이블을 참조할 필요 없이 인덱스만으로 쿼리를 처리할 수 있으므로 쿼리 성능이 크게 향상됩니다.
* **I/O 감소:** 데이터베이블에 대한 I/O 작업을 최소화하여 시스템 부하를 줄일 수 있습니다.

### 커버링 인덱스의 예시

예를 들어, `customers` 테이블에 `customer_id`, `name`, `city` 컬럼이 있다고 가정해 봅시다. 만약 다음과 같은 쿼리를 실행한다면:

```sql
SELECT name, city
FROM customers
WHERE customer_id = 123;
```

이때, `customer_id`, `name`, `city` 컬럼을 모두 포함하는 인덱스가 있다면, 데이터베이스는 실제 테이블을 참조하지 않고 인덱스만을 이용하여 쿼리를 처리할 수 있습니다. 즉, 인덱스가 쿼리 결과를 완전히 커버하는 것이죠.

### 커버링 인덱스의 장점

* **빠른 쿼리 실행:** 인덱스만으로 쿼리를 처리할 수 있으므로 쿼리 성능이 크게 향상됩니다.
* **I/O 감소:** 데이터베이스에 대한 I/O 작업이 줄어들어 시스템 부하가 감소합니다.
* **데이터베이스 락 감소:** 실제 데이터 테이블을 참조할 필요가 없으므로 다른 트랜잭션과의 충돌 가능성이 줄어듭니다.

### 커버링 인덱스를 생성할 때 주의할 점

* **필요한 모든 컬럼 포함:** 쿼리에서 사용하는 모든 컬럼을 인덱스에 포함해야 합니다.
* **컬럼 순서:** 컬럼의 순서도 중요합니다. 자주 사용되는 컬럼을 앞쪽에 배치하는 것이 일반적입니다.
* **인덱스 크기:** 너무 많은 컬럼을 포함하면 인덱스 크기가 커져 성능이 저하될 수 있습니다.
* **인덱스 오버헤드:** 인덱스를 생성하고 유지하는 데 추가적인 자원이 필요하므로, 불필요한 인덱스는 생성하지 않는 것이 좋습니다.

**커버링 인덱스를 활용하여 쿼리 성능을 향상시키려면 다음과 같은 작업이 필요합니다.**

* **쿼리 분석:** 자주 실행되는 쿼리를 분석하여 어떤 컬럼에 인덱스를 생성해야 할지 파악합니다.
* **인덱스 생성:** 분석 결과를 바탕으로 적절한 인덱스를 생성합니다.
* **인덱스 성능 모니터링:** 생성된 인덱스의 성능을 주기적으로 모니터링하고, 필요에 따라 인덱스를 수정하거나 삭제합니다.

**결론적으로**, 커버링 인덱스는 데이터베이스 쿼리 성능을 획기적으로 향상시킬 수 있는 강력한 도구입니다. 하지만 잘못된 인덱스를 생성하면 오히려 성능 저하를 야기할 수 있으므로, 신중하게 설계하고 관리해야 합니다.

* **추가적으로 알아두면 좋은 것:**
    * 인덱스 종류 (B+ 트리, 해시 인덱스 등)
    * 인덱스 최적화
    * 인덱스 관리 도구

---

추천 글
- [커버링 인덱스 (기본 지식 / WHERE / GROUP BY)](https://jojoldu.tistory.com/476)