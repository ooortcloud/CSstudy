## 🔍 **Hash 인덱스란?**  
Hash 인덱스는 **해시 함수를 이용하여 키-값(Key-Value) 매핑을 수행하는 인덱싱 방식**입니다. 데이터베이스에서 인덱스를 만드는 방법 중 하나로, **빠른 조회 속도**를 제공하는 것이 특징입니다.  

B-트리 인덱스와 함께 많이 사용되지만, 동작 방식이 다르며 장점과 단점이 뚜렷합니다.  

---

## 🏗 **Hash 인덱스의 동작 방식**  
1. **해시 함수(Hash Function)** 를 사용하여 입력 값(키)을 특정 버킷(Bucket)으로 변환  
2. 해당 버킷에 저장된 값(데이터 주소 또는 데이터 자체)을 조회하여 반환  

이 방식은 **검색 속도가 O(1)로 매우 빠르다**는 장점이 있습니다.  

💡 예를 들어, `user_id = 1234`인 데이터를 찾는다고 가정하면:  
- `hash(1234) → 버킷 5로 변환`
- 버킷 5에서 해당 데이터를 조회  

이처럼 특정 키 값에 대해 **빠른 직접 접근이 가능** 합니다.

---

## ⚖ **B-트리 인덱스와 비교**  
| 비교 항목 | Hash 인덱스 | B-트리 인덱스 |
|-----------|------------|--------------|
| **검색 속도** | O(1) (매우 빠름) | O(log N) |
| **범위 검색** | ❌ 불가능 | ✅ 가능 |
| **정렬 필요** | ❌ 불필요 | ✅ 가능 |
| **데이터 구조** | Key → Hash → Bucket | Tree 구조 |
| **사용 예시** | **정확한 값 검색 (`=` 연산)** | **범위 검색 (`<`, `>`, `BETWEEN` 연산)** |

### ✅ **언제 Hash 인덱스를 사용해야 할까?**  
1. **`=` 연산(정확한 값 검색)** 이 자주 사용될 때  
2. **중복이 적고 유니크한 값이 많을 때**  
3. **데이터가 크지 않고 읽기 속도가 중요한 경우**  

---

## 🚫 **Hash 인덱스의 단점**  
❌ **범위 검색이 불가능** → `BETWEEN`, `<`, `>` 같은 연산이 지원되지 않음  
❌ **정렬이 불가능** → 해시 구조상 순서 개념이 없기 때문  
❌ **충돌(Collision) 문제 발생 가능** → 같은 해시 값이 나오는 경우 처리 필요  

이런 이유로 **대부분의 RDBMS(MySQL, PostgreSQL 등)에서는 기본적으로 B-트리 인덱스를 사용** 하고, 특정 상황에서만 Hash 인덱스를 활용합니다.

---

## 🛠 **실제 적용 예시 (MySQL)**  
MySQL에서 **Memory 엔진** 을 사용할 경우 Hash 인덱스를 기본적으로 사용합니다.  

```sql
CREATE TABLE users (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    email VARCHAR(100)
) ENGINE=MEMORY;
```
위 테이블은 **해시 기반 인덱스** 를 사용하여 빠른 검색이 가능하지만, 디스크에 저장되지 않고 메모리에만 존재합니다.

### ✅ **MySQL에서 명시적으로 Hash 인덱스 사용하기 (InnoDB에서는 불가능)**
```sql
CREATE TABLE users (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    email VARCHAR(100),
    INDEX name_index (name) USING HASH
);
```
⚠ `USING HASH`는 **MEMORY 엔진에서만 적용 가능**하며, InnoDB에서는 기본적으로 B-트리만 사용됩니다.

---

## 📌 **결론**  
✔ Hash 인덱스는 **빠른 `=` 검색을 위해 사용**  
✔ **범위 검색과 정렬이 필요하면 B-트리 인덱스를 사용**  
✔ **MySQL InnoDB에서는 기본적으로 지원되지 않음**  

💡 **Q. B-트리 인덱스와 Hash 인덱스를 섞어서 사용할 수도 있을까?**  
➡ 일부 NoSQL 데이터베이스(예: MongoDB)나 특정 키-값 저장소(Redis)에서는 하이브리드 방식으로 사용되기도 합니다.  

궁금한 점 있으면 더 물어봐! 😊